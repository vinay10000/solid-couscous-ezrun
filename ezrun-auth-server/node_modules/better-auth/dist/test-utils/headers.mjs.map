{"version":3,"file":"headers.mjs","names":["setCookieHeaders: string[]"],"sources":["../../src/test-utils/headers.ts"],"sourcesContent":["/**\n * converts set cookie containing headers to\n * cookie containing headers\n */\nexport function convertSetCookieToCookie(headers: Headers): Headers {\n\tconst setCookieHeaders: string[] = [];\n\theaders.forEach((value, name) => {\n\t\tif (name.toLowerCase() === \"set-cookie\") {\n\t\t\tsetCookieHeaders.push(value);\n\t\t}\n\t});\n\n\tif (setCookieHeaders.length === 0) {\n\t\treturn headers;\n\t}\n\n\tconst existingCookies = headers.get(\"cookie\") || \"\";\n\tconst cookies = existingCookies ? existingCookies.split(\"; \") : [];\n\n\tsetCookieHeaders.forEach((setCookie) => {\n\t\tconst cookiePair = setCookie.split(\";\")[0]!;\n\t\tcookies.push(cookiePair.trim());\n\t});\n\n\theaders.set(\"cookie\", cookies.join(\"; \"));\n\n\treturn headers;\n}\n"],"mappings":";;;;;AAIA,SAAgB,yBAAyB,SAA2B;CACnE,MAAMA,mBAA6B,EAAE;AACrC,SAAQ,SAAS,OAAO,SAAS;AAChC,MAAI,KAAK,aAAa,KAAK,aAC1B,kBAAiB,KAAK,MAAM;GAE5B;AAEF,KAAI,iBAAiB,WAAW,EAC/B,QAAO;CAGR,MAAM,kBAAkB,QAAQ,IAAI,SAAS,IAAI;CACjD,MAAM,UAAU,kBAAkB,gBAAgB,MAAM,KAAK,GAAG,EAAE;AAElE,kBAAiB,SAAS,cAAc;EACvC,MAAM,aAAa,UAAU,MAAM,IAAI,CAAC;AACxC,UAAQ,KAAK,WAAW,MAAM,CAAC;GAC9B;AAEF,SAAQ,IAAI,UAAU,QAAQ,KAAK,KAAK,CAAC;AAEzC,QAAO"}